[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< br.org.cecairbar:durvalcrm >---------------------
[INFO] Building durvalcrm 1.0.0-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- quarkus:3.24.3:dev (default-cli) @ durvalcrm ---
[INFO] Invoking resources:3.3.1:resources (default-resources) @ durvalcrm
[INFO] Copying 5 resources from src/main/resources to target/classes
[INFO] Invoking quarkus:3.24.3:generate-code (default) @ durvalcrm
[INFO] Invoking compiler:3.14.0:compile (default-compile) @ durvalcrm
[INFO] Nothing to compile - all classes are up to date.
[INFO] Invoking resources:3.3.1:testResources (default-testResources) @ durvalcrm
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] Invoking quarkus:3.24.3:generate-code-tests (default) @ durvalcrm
[INFO] Invoking compiler:3.14.0:testCompile (default-testCompile) @ durvalcrm
[INFO] Nothing to compile - all classes are up to date.
Listening for transport dt_socket at address: 5005
Press [e] to edit command line args (currently ''), [h] for more options>
Tests paused
Press [e] to edit command line args (currently ''), [r] to resume testing, [h] for more options>
Press [e] to edit command line args (currently ''), [r] to resume testing, [o] Toggle test output, [h] for more options>
2025-07-20 22:47:34,117 INFO  [io.qua.sma.jwt.dep.SmallryeJwtDevModeProcessor] (build-16) The smallrye-jwt extension has configured an in-memory key pair, which is not enabled in production. Please ensure the correct keys/locations are set in production to avoid potential issues.
[Hibernate] 
    set client_min_messages = WARNING
[Hibernate] 
    alter table if exists doacoes 
       drop constraint if exists FK1euyy4exsei3jejbo90vgb3ek
[Hibernate] 
    drop table if exists associados cascade
[Hibernate] 
    drop table if exists doacoes cascade
[Hibernate] 
    drop table if exists mensalidades cascade
[Hibernate] 
    drop table if exists vendas cascade
[Hibernate] 
    create table associados (
        ativo boolean not null,
        criado_em timestamp(6) with time zone,
        cpf varchar(14) not null unique,
        id uuid not null,
        telefone varchar(20),
        email varchar(255) not null unique,
        nome_completo varchar(255) not null,
        primary key (id)
    )
[Hibernate] 
    create table doacoes (
        valor numeric(38,2) not null,
        created_at timestamp(6) not null,
        data_confirmacao timestamp(6),
        data_doacao timestamp(6) not null,
        updated_at timestamp(6),
        associado_id uuid not null,
        id uuid not null,
        descricao varchar(500),
        codigo_transacao varchar(255),
        metodo_pagamento varchar(255),
        status varchar(255) not null check (status in ('PENDENTE','PROCESSANDO','CONFIRMADA','CANCELADA')),
        tipo varchar(255) not null check (tipo in ('UNICA','RECORRENTE')),
        primary key (id)
    )
[Hibernate] 
    create table mensalidades (
        ano_referencia integer not null,
        data_vencimento date not null,
        mes_referencia integer not null,
        valor numeric(10,2) not null,
        criado_em timestamp(6) with time zone not null,
        data_pagamento timestamp(6) with time zone,
        associado_id uuid not null,
        id uuid not null,
        qr_code_pix varchar(1000),
        identificador_pix varchar(255) not null unique,
        status varchar(255) not null check (status in ('PENDENTE','PAGA','ATRASADA')),
        primary key (id),
        unique (associado_id, mes_referencia, ano_referencia)
    )
[Hibernate] 
    create table vendas (
        valor numeric(10,2) not null,
        atualizado_em timestamp(6) with time zone,
        criado_em timestamp(6) with time zone not null,
        data_venda timestamp(6) with time zone not null,
        id uuid not null,
        descricao varchar(255) not null,
        origem varchar(255) not null check (origem in ('CANTINA','BAZAR','LIVROS')),
        primary key (id)
    )
[Hibernate] 
    alter table if exists doacoes 
       add constraint FK1euyy4exsei3jejbo90vgb3ek 
       foreign key (associado_id) 
       references associados
__  ____  __  _____   ___  __ ____  ______ 
 --/ __ \/ / / / _ | / _ \/ //_/ / / / __/ 
 -/ /_/ / /_/ / __ |/ , _/ ,< / /_/ /\ \   
--\___\_\____/_/ |_/_/|_/_/|_|\____/___/   
2025-07-20 22:47:36,867 INFO  [io.qua.oid.run.dev.ui.OidcDevUiRecorder] (Quarkus Main Thread) OIDC Dev Console: discovering the provider metadata at http://localhost:8080/realms/durval-crm/.well-known/openid-configuration
2025-07-20 22:47:36,966 INFO  [io.quarkus] (Quarkus Main Thread) DurvalCRM API 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.24.3) started in 3.601s. Listening on: http://localhost:8082
2025-07-20 22:47:36,967 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.
2025-07-20 22:47:36,967 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, compose, hibernate-orm, hibernate-orm-panache, hibernate-validator, jdbc-postgresql, narayana-jta, oidc, resteasy, resteasy-jackson, scheduler, security, smallrye-context-propagation, smallrye-jwt, smallrye-openapi, swagger-ui, vertx]
2025-07-20 22:50:43,169 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Retornando informações de login - authServerUrl: http://localhost:8080/realms/durval-crm, clientId: durvalcrm-app
2025-07-20 22:58:11,371 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Retornando informações de login - authServerUrl: http://localhost:8080/realms/durval-crm, clientId: durvalcrm-app
2025-07-20 22:58:16,941 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Processando callback com código: 221a118b-2..., redirectUri: http://localhost:3000/auth/callback, PKCE presente: sim
2025-07-20 22:58:17,114 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Token obtido com sucesso
2025-07-20 22:58:17,264 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Retornando informações do usuário autenticado: admin
2025-07-20 22:58:17,281 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Retornando informações do usuário autenticado: admin
2025-07-20 22:58:17,300 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Validando token para usuário: admin
[Hibernate] 
    select
        ae1_0.id,
        ae1_0.ativo,
        ae1_0.cpf,
        ae1_0.criado_em,
        ae1_0.email,
        ae1_0.nome_completo,
        ae1_0.telefone 
    from
        associados ae1_0 
    where
        ae1_0.ativo=true 
        and (
            lower(ae1_0.nome_completo) like lower(?) escape '' 
            or ae1_0.cpf like ? escape ''
        )
2025-07-20 22:58:22,769 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Validando token para usuário: admin
2025-07-20 22:58:22,862 ERROR [br.org.cec.dur.inf.web.exc.GlobalExceptionHandler] (executor-thread-1) Erro capturado: : jakarta.ws.rs.NotFoundException: RESTEASY003210: Could not find resource for full path: http://localhost:8082/api/doacoes?resumo=false
	at org.jboss.resteasy.core.registry.ClassNode.match(ClassNode.java:64)
	at org.jboss.resteasy.core.registry.RootClassNode.match(RootClassNode.java:42)
	at org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:439)
	at org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:293)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:233)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:154)
	at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:157)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:229)
	at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:84)
	at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)
	at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:97)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$15.runWith(VertxCoreRecorder.java:637)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2651)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2630)
	at org.jboss.threads.EnhancedQueueExecutor.runThreadBody(EnhancedQueueExecutor.java:1622)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1589)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)

2025-07-20 22:58:32,012 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Validando token para usuário: admin
[Hibernate] 
    select
        ae1_0.id,
        ae1_0.ativo,
        ae1_0.cpf,
        ae1_0.criado_em,
        ae1_0.email,
        ae1_0.nome_completo,
        ae1_0.telefone 
    from
        associados ae1_0 
    where
        ae1_0.ativo=true 
        and (
            lower(ae1_0.nome_completo) like lower(?) escape '' 
            or ae1_0.cpf like ? escape ''
        )
2025-07-20 22:58:34,065 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-1) Validando token para usuário: admin
[Hibernate] 
    select
        ae1_0.id,
        ae1_0.ativo,
        ae1_0.cpf,
        ae1_0.criado_em,
        ae1_0.email,
        ae1_0.nome_completo,
        ae1_0.telefone 
    from
        associados ae1_0 
    where
        ae1_0.ativo=true 
        and (
            lower(ae1_0.nome_completo) like lower(?) escape '' 
            or ae1_0.cpf like ? escape ''
        )
[Hibernate] 
    select
        me1_0.id,
        me1_0.ano_referencia,
        me1_0.associado_id,
        me1_0.criado_em,
        me1_0.data_pagamento,
        me1_0.data_vencimento,
        me1_0.identificador_pix,
        me1_0.mes_referencia,
        me1_0.qr_code_pix,
        me1_0.status,
        me1_0.valor 
    from
        mensalidades me1_0 
    where
        me1_0.mes_referencia=? 
        and me1_0.ano_referencia=? 
    order by
        me1_0.associado_id
[Hibernate] 
    select
        me1_0.id,
        me1_0.ano_referencia,
        me1_0.associado_id,
        me1_0.criado_em,
        me1_0.data_pagamento,
        me1_0.data_vencimento,
        me1_0.identificador_pix,
        me1_0.mes_referencia,
        me1_0.qr_code_pix,
        me1_0.status,
        me1_0.valor 
    from
        mensalidades me1_0 
    where
        me1_0.mes_referencia=? 
        and me1_0.ano_referencia=? 
    order by
        me1_0.associado_id
[Hibernate] 
    select
        ae1_0.id,
        ae1_0.ativo,
        ae1_0.cpf,
        ae1_0.criado_em,
        ae1_0.email,
        ae1_0.nome_completo,
        ae1_0.telefone 
    from
        associados ae1_0 
    where
        ae1_0.ativo=?
2025-07-20 22:58:37,185 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-2) Validando token para usuário: admin
[Hibernate] 
    select
        ve1_0.id,
        ve1_0.atualizado_em,
        ve1_0.criado_em,
        ve1_0.data_venda,
        ve1_0.descricao,
        ve1_0.origem,
        ve1_0.valor 
    from
        vendas ve1_0 
    where
        ve1_0.data_venda>=? 
        and ve1_0.data_venda<=?
2025-07-20 22:58:39,007 INFO  [br.org.cec.dur.inf.web.res.AuthResource] (executor-thread-2) Validando token para usuário: admin
2025-07-20 22:58:39,036 ERROR [br.org.cec.dur.inf.web.exc.GlobalExceptionHandler] (executor-thread-2) Erro capturado: : jakarta.ws.rs.NotFoundException: RESTEASY003210: Could not find resource for full path: http://localhost:8082/api/doacoes?resumo=false
	at org.jboss.resteasy.core.registry.ClassNode.match(ClassNode.java:64)
	at org.jboss.resteasy.core.registry.RootClassNode.match(RootClassNode.java:42)
	at org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:439)
	at org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:293)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:233)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:154)
	at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:157)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:229)
	at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:84)
	at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)
	at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:97)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$15.runWith(VertxCoreRecorder.java:637)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2651)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2630)
	at org.jboss.threads.EnhancedQueueExecutor.runThreadBody(EnhancedQueueExecutor.java:1622)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1589)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)

